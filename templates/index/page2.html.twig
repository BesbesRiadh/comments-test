{% extends 'base.html.twig' %}

{% block title %}
    Page 1
{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"/>
{% endblock %}
{% block body %}
    <div class="container">
        <div class="grix xs2 sm3 gutter-0 card">
            <div class="col-xs2 col-sm3">
                {{ texte }} 
            </div>
        </div>
        <div class="grix xs2 sm3 gutter-0 card">
            <div class="col-xs2 col-sm3">
                <h2>Liste des commentaires</h2>
                {% for comment in comments %}
                    <h3>Commentaire de {{comment.email}}</h3>
                    <p>Publié le {{comment.createdAt|date("d/m/Y H:i") }}</p>
                    <div>{{comment.content|raw}}</div>
                    <p><a href="#ajout-commentaire" data-reply data-id="{{comment.id}}" class="btn primary press">Répondre</a></p>

                    {% if comment.replies != null %}
                        {% for reply in comment.replies %}
                            <p>Réponse publiée par {{reply.nickname}} le {{reply.createdAt|date("d/m/Y H:i") }}</p>
                            <div>{{reply.content|raw}}</div>
                        {% endfor %}
                    {% endif %}
                {% endfor %}
            </div>
            <div class="col-xs2 col-sm3" id="ajout-commentaire">
                <h2>Ajouter un commentaire</h2>
                {{ form_start(commentForm) }}
                <div id="editor"></div>
                {{ form_end(commentForm) }}
            </div>
        </div>
    </div>

{% endblock %}
